<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="If you're looking for concise and on-topic programming tutorials and notes with examples, you are in the right place! Here, you'll find tutorials on Python, Java, C++, web development, and databases. This website is a personal portfolio built and maintained by a single creator.">
    <meta name="keywords" content="Programming, Coding, Python, Web Development, C++, HTML Tutorial, CSS Tutorial, Bootstrap Tutorial, Python Tutorial, C++ Tutorial, HTML, CSS, Bootstrap, Software Development, Algorithms, Data Structures, Programming Tutorials, Coding Tips, Code Examples, Programming Resources, Learn Python, Programming Beginner To Expert, Coding Community, Online Coding Courses, MS Access, Databases, OOP, Object Oriented Programming, IT, Computer Science, Data Science, AI, Django, TensorFlow, Java, Java Tutorial, Android, Android Studio, Kotlin, Electronics, Binary">
    <meta name="author" content="Tymoteusz Kołodziejczyk">
    <link href="font/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="files/logo.png" rel="icon">
    <link href="files/logo.png" rel="apple-touch-icon">
    <link rel="stylesheet" href="css/fontello.css" type="text/css">
    <link rel="stylesheet" href="css/styles.css" type="text/css">
    <title>Lambda expressions and closures</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D76ZFDYLCY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-D76ZFDYLCY');
    </script>
</head>

<body id="page-top">
    <div id="wrapper">
        <ul class="navbar-nav sidebar sidebar-dark accordion" id="accordionSidebar" style="background-color: #157267;">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                    <img src="files/logo.png" alt="Logo" id="logo">
                <div class="sidebar-brand-text mx-3">CPUcademy</div>
            </a>
            
            <hr class="sidebar-divider my-0">
            <li class="nav-item active">
                <a class="nav-link" href="index.html">
                    <i class="icon-home"></i>
                    <span>Home</span></a>
            </li>
            <hr class="sidebar-divider" style="margin-bottom: 0px;">
    
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="true" aria-controls="collapseTwo">
                    <i class="icon-th-list"></i>
                    <span>Tutorials</span>
                </a>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="python.html">Python</a>
                        <a class="collapse-item" href="java.html">Java</a>
                        <a class="collapse-item" href="cplusplus.html">C++</a>
                        <a class="collapse-item" href="web.html">Basic web stack</a>
                        <a class="collapse-item" href="databases.html">Databases</a>
                        <a class="collapse-item" href="electronics-and-it-basics.html">Electronics &amp; IT basics</a>
                    </div>
                </div>
            </li>
            <hr class="sidebar-divider my-0">
            <li class="nav-item">
                <a class="nav-link" href="about-me.html">
                    <i class="icon-adult"></i>
                    <span>About me</span></a>
            </li>
            <hr class="sidebar-divider my-0">
            <li class="nav-item">
                <a class="nav-link" href="portfolio-projects.html">
                    <i class="icon-docs"></i>
                    <span>Portfolio projects</span></a>
            </li>
            <hr class="sidebar-divider">
        </ul>

        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars" style="color: #157267;"></i>
                </button>

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h5 class="m-0 font-weight-bold">Lambda expressions and closures</h5>
                                </div>
                                <div class="card-body">
                                    <h2>Lambda expressions</h2>

                                    <p>Lambda expressions are anonymous functions (they have no name). They are defined using the <code>lambda</code> keyword. They are generally discouraged because they make debugging hard and code less readable, but sometimes they are necessary, so it is worth knowing how to create them.</p>
                                    
                                    <p>Lambda expressions allow shortening simple functions that only return a value (the <code>return</code> statement is implicit in lambdas).</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
l <span class="sign">=</span> <span class="function">lambda</span> a, b: a <span class="sign">+</span> b
<span class="command">print</span>(l(5, 5))    
                                    </code></pre>

                                    <p>We can also use them directly in the <code>print()</code> method.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command">print</span>((<span class="function">lambda</span> a, b: a <span class="sign">*</span> 2 <span class="sign">+</span> b <span class="sign">*</span> 2)(5, 6))
                                    </code></pre>


                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Checking the squares of numbers in a given range and sorting them ​​from smallest to largest</span>
list1 <span class="sign">=</span> <span class="command">sorted</span>(<span class="command">range</span>(<span class="sign">-</span>3, 12), key <span class="sign">=</span> <span class="function">lambda</span> x: x <span class="sign">**</span> 2)
<span class="command">print</span>(list1)
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Sorting a list by the second element of each tuple inside it</span>
data <span class="sign">=</span> [(1, 3), (2, 1), (3, 2)]
data.<span class="command">sort</span>(key <span class="sign">=</span> <span class="function">lambda</span> x: x[1])
<span class="command">print</span>(data)

<span class="comment"># Sorting by first element, then by second element</span>
data2 <span class="sign">=</span> [(1, 3), (2, 1), (3, 2), (2, 0)]
data.<span class="command">sort</span>(key <span class="sign">=</span> <span class="function">lambda</span> x: (x[0], x[1])) <span class="comment"># adding a minus before "x[0]" would cause sorting by first element in descending order, then by second element in ascending order</span>
<span class="command">print</span>(data)
                                    </code></pre>

                                    <p>Using lambdas, we can easily sort objects of our classes inside a list.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">class</span> Person:
    <span class="function">def __init__</span>(<span class="function">self</span>, name, age):
        <span class="function">self</span>.name <span class="sign">=</span> name
        <span class="function">self</span>.age <span class="sign">=</span> age

    <span class="function">def __repr__</span>(<span class="function">self</span>):
        <span class="function">return</span> <span class="text">f"{self.name}, {self.age}"</span>

people <span class="sign">=</span> [<span class="function">Person</span>(<span class="text">"Alice"</span>, 30), <span class="function">Person</span>(<span class="text">"Bob"</span>, 25), <span class="function">Person</span>(<span class="text">"Charlie"</span>, 35)]

sorted_people <span class="sign">=</span> <span class="command">sorted</span>(people, key <span class="sign">=</span> <span class="function">lambda</span> p: p.age) <span class="comment"># sorting by ages</span>
names <span class="sign">=</span> [p.name <span class="function">for</span> p <span class="function">in</span> sorted_people] <span class="comment"># getting only the names</span>

<span class="command">print</span>(sorted_people)
<span class="command">print</span>(names)
                                    </code></pre>

                                    <h2>Closures</h2>

                                    <p>A closure is a function inside a function that retains access to variables from its enclosing scope, even after the outer function has finished executing. This behavior occurs because the inner function "remembers" the environment in which it was created. Closures allow for the creation of functions with private variables and can be used to preserve variable states across multiple function calls. They are also used for creating function factories, memoization, and function composition.</p>

                                    <p><code>inner_function()</code> from the example below is a closure because it uses the <code>x</code> variable from the enclosing scope of  <code>outer_function()</code>. Even after <code>outer_function()</code> has finished executing, <code>inner_function()</code> retains access to <code>x</code>.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> outer_function(x): <span class="comment"># the enclosing function</span>
    <span class="function">def</span> inner_function(y): <span class="comment"># the closure function</span>
        <span class="function">return</span> x <span class="sign">+</span> y
    <span class="function">return</span> inner_function

add_five <span class="sign">=</span> outer_function(5) <span class="comment"># creating a closure</span>
<span class="command">print</span>(add_five(3)) <span class="comment"># calling the closure (output: 8)</span>
                                    </code></pre>

                                    <h4>Creating functions with private variables</h4>

                                    <p>The private variable below can be accessed only through the inner method (encapsulation like in OOP).</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> outer():
    private <span class="sign">=</span> <span class="text">"Private"</span>
    <span class="function">def</span> inner():
        <span class="function">return</span> private
    <span class="function">return</span> inner

private_function <span class="sign">=</span> outer()
<span class="command">print</span>(private_function())
                                    </code></pre>

                                    <h4>Preserving variable states across multiple function calls</h4>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> counter():
    count <span class="sign">=</span> 0 <span class="comment"># this variable is preserved across all calls</span>
    <span class="function">def</span> increment():
        <span class="function">nonlocal</span> count <span class="comment"># referring to the "count" variable in the enclosing scope</span>
        count <span class="sign">+=</span> 1
        <span class="function">return</span> count
    <span class="function">return</span> increment

counter_func <span class="sign">=</span> counter() <span class="comment"># creating a closure</span>

<span class="comment"># Calling the closure multiple times</span>
<span class="command">print</span>(counter_func()) <span class="comment"># 1</span>
<span class="command">print</span>(counter_func()) <span class="comment"># 2</span>
<span class="command">print</span>(counter_func()) <span class="comment"># 3</span>
                                    </code></pre>

                                    <h4>Using lambdas as closure functions</h4>

                                    <p>The lambda expression below remembers the <code>n</code> variable from the enclosing <code>function()</code> even after it has finished executing.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> function(n):
    <span class="function">return lambda</span> x: x <span class="sign">+</span> n      
f <span class="sign">=</span> function(10)
<span class="command">print</span>(f(11))
                                    </code></pre>

                                    <h4>Function factories</h4>

                                    <p>A function factory is a higher-order function that creates and returns other functions, customized based on the input parameters provided to the factory.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> power_of(exponent):
    <span class="function">return lambda</span> base: base <span class="sign">**</span> exponent

square <span class="sign">=</span> power_of(2)
cube <span class="sign">=</span> power_of(3)

<span class="command">print</span>(square(5))
<span class="command">print</span>(cube(3))
                                    </code></pre>
                                    
                                    <h4>Function composition</h4>

                                    <p>Function compositions are used to compose multiple functions together, where the output of one function becomes the input of another.</p>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">def</span> compose(f, g):
    <span class="function">return lambda</span> x: f(g(x))

<span class="function">def</span> double(x):
    <span class="function">return</span> x <span class="sign">*</span> 2

<span class="function">def</span> add_three(x):
    <span class="function">return</span> x <span class="sign">+</span> 3

composed_function <span class="sign">=</span> compose(double, add_three)
<span class="command">print</span>(composed_function(5)) <span class="comment"># 16 (5 + 3 = 8, 8 * 2 = 16)</span>
                                    </code></pre>

                                    <p>Memoization will be discussed in a lesson about writing clean code.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; CPUcademy All Rights Reserved | <a href="license-and-sources.html" class="link">License &amp; Sources</a></span>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="configs/jquery/jquery.min.js"></script>
    <script src="configs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="configs/script.js"></script>
</body>
</html>