<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="If you're looking for concise and on-topic programming tutorials or cheat sheets and notes with examples, then you are in the right place! You will find courses about Python, web development, databases, and many others. This website is a personal portfolio and was created by one person.">
    <meta name="keywords" content="Programming, Coding, Python, Web Development, C++, HTML Tutorial, CSS Tutorial, Bootstrap Tutorial, Python Tutorial, C++ Tutorial, HTML, CSS, Bootstrap, Software Development, Algorithms, Data Structures, Programming Tutorials, Coding Tips, Code Examples, Programming Resources, Learn Python, Programming Beginner To Expert, Coding Community, Online Coding Courses, MS Access, Databases, OOP, Object Oriented Programming, IT, Computer Science, Data Science, AI, Django, TensorFlow, Java, Java Tutorial, Android, Android Studio, Kotlin, Electronics, Binary">
    <meta name="author" content="Tymoteusz KoÅ‚odziejczyk">
    <link href="font/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="files/logo.png" rel="icon">
    <link href="files/logo.png" rel="apple-touch-icon">
    <link rel="stylesheet" href="css/fontello.css" type="text/css"/>
    <link rel="stylesheet" href="css/styles.css" type="text/css"/>
    <title>Example programs</title>
</head>

<body id="page-top">
    <div id="wrapper">
        <ul class="navbar-nav sidebar sidebar-dark accordion" id="accordionSidebar" style="background-color: #157267;">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                    <img src="files/logo.png" alt="Logo" id="logo">
                <div class="sidebar-brand-text mx-3">CPUcademy</div>
            </a>
            
            <hr class="sidebar-divider my-0">
            <li class="nav-item active">
                <a class="nav-link" href="index.html">
                    <i class="icon-home"></i>
                    <span>Home</span></a>
            </li>
            <hr class="sidebar-divider" style="margin-bottom: 0px;">
    
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="true" aria-controls="collapseTwo">
                    <i class="icon-th-list"></i>
                    <span>Tutorials</span>
                </a>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="python.html">Python</a>
                        <a class="collapse-item" href="java.html">Java &amp; Kotlin (Android)</a>
                        <a class="collapse-item" href="cplusplus.html">C++</a>
                        <a class="collapse-item" href="web.html">Basic web stack</a>
                        <a class="collapse-item" href="databases.html">Databases</a>
                        <a class="collapse-item" href="electronics.html">Electronics</a>
                        <a class="collapse-item" href="it-and-computer-basics.html">IT &amp; computer basics</a>
                    </div>
                </div>
            </li>
            <hr class="sidebar-divider">
            <div class="sidebar-heading">About me</div>
            
            <li class="nav-item">
                <a class="nav-link" href="cv.html">
                    <i class="icon-adult"></i>
                    <span>CV</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="portfolio-projects.html">
                    <i class="icon-docs"></i>
                    <span>Portfolio projects</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="services.html">
                    <i class="icon-services"></i>
                    <span>My services</span></a>
            </li>
            <hr class="sidebar-divider">
        </ul>

        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars" style="color: #157267;"></i>
                </button>

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h5 class="m-0 font-weight-bold">Exmaple programs</h5>
                                </div>
                                <div class="card-body">

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Powering on an LED</span>

<span class="command">import</span> RPi.GPIO <span class="command">as</span> gpio
<span class="command">import</span> time
led_pin <span class="sign">=</span> 17 <span class="comment"># setting the GPIO number we used on the board</span>
gpio.<span class="command">setmode</span>(gpio.BCM) <span class="comment"># setting the right numeration of the GPIO's</span>
gpio.<span class="command">setup</span>(led_pin, gpio.OUT) <span class="comment"># gpio.OUT / gpio.IN (setting a certain GPIO to output / input)</span>

<span class="function">for</span> x <span class="function">in</span> <span class="command">range</span>(10):
    gpio.<span class="command">output</span>(led_pin, gpio.HIGH) <span class="comment"># HIGH means powering on the LED</span>
    time.<span class="command">sleep</span>(1)
    gpio.<span class="command">output</span>(led_pin, gpio.LOW) <span class="comment"># LOW means powering off the LED</span>
    time.<span class="command">sleep</span>(1)

gpio.<span class="command">cleanup</span>() <span class="comment"># resetting the GPIO settings to prevent damage  </span>                                      
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Powering on an LED when a button is pressed</span>

<span class="command">import</span> RPi.GPIO <span class="command">as</span> gpio
<span class="command">import</span> time
led_pin <span class="sign">=</span> 17
button_pin <span class="sign">=</span> 26
gpio.<span class="command">setmode</span>(gpio.BCM)
gpio.<span class="command">setup</span>(led_pin, gpio.OUT)
gpio.<span class="command">setup</span>(button_pin, gpio.IN)

<span class="function">while True</span>:
    <span class="command">print</span>(gpio.<span class="command">input</span>(button_pin))
    <span class="function">if</span> gpio.<span class="command">input</span>(button_pin): <span class="comment"># checking if button is pressed</span>
        gpio.<span class="command">output</span>(led_pin, gpio.HIGH)
    <span class="function">else</span>:
        gpio.<span class="command">output</span>(led_pin, gpio.LOW)
    time.<span class="command">sleep</span>(0.01) <span class="comment"># reducing CPU usage</span>

gpio.<span class="command">cleanup</span>()                                        
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Powering on one LED after another when a button is pressed (and turning off the previous one) - three LEDs</span>

<span class="command">import</span> RPi.GPIO <span class="command">as</span> gpio
<span class="command">import</span> time
gpio.<span class="command">setmode</span>(gpio.BCM)
pins <span class="sign">=</span> [17, 27, 22] <span class="comment"># three LEDs</span>
<span class="function">for</span> x <span class="function">in</span> pins:
gpio.<span class="command">setup</span>(x, gpio.OUT)
gpio.<span class="command">output</span>(x, gpio.LOW)

button_pin <span class="sign">=</span> 26
gpio.<span class="command">setup</span>(button_pin, gpio.IN)
previous_state_button <span class="sign">=</span> gpio.<span class="command">input</span>(button_pin)
led_index <span class="sign">=</span> 0

<span class="function">while True</span>:
    time.<span class="command">sleep</span>(0.1)
    button_state <span class="sign">=</span> gpio.<span class="command">input</span>(button_pin)
    <span class="function">if</span> button_state <span class="sign">!=</span> previous_state_button: <span class="comment"># checking if button state changed</span>
        previous_state_button <span class="sign">=</span> button_state
        <span class="function">if</span> button_state:
            <span class="function">for</span> x <span class="function">in</span> pins:
                <span class="function">if</span> pins.<span class="command">index</span>(x) <span class="sign">==</span> led_index:
                    gpio.<span class="command">output</span>(x, gpio.HIGH)
                <span class="function">else</span>:
                    gpio.<span class="command">output</span>(x, gpio.LOW)
            led_index <span class="sign">+=</span> 1
            <span class="function">if</span> led_index <span class="sign">&gt;=</span> <span class="command">len</span>(pins):
                led_index <span class="sign">=</span> 0

gpio.<span class="command">cleanup</span>()                                        
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Using the camera</span>

<span class="command">from</span> picamera <span class="command">import</span> PiCamera
<span class="command">import</span> time

camera <span class="sign">=</span> PiCamera()
camera.resolution <span class="sign">=</span> (1280, 720)
camera.rotation <span class="sign">=</span> 180
time.<span class="command">sleep</span>(2) <span class="comment"># allowing the camera time to calibrate</span>

file_name <span class="sign">=</span> <span class="text">"/home/pi/camera/image.jpg"</span> <span class="comment"># an absolute path for image</span>
camera.capture(file_name)
<span class="command">print</span>(<span class="text">"The image is done."</span>)

file_name_2 <span class="sign">=</span> <span class="text">"/home/pi/camera/vid.h264"</span> <span class="comment"># an absolute path for video</span>
camera.start_recording(file_name_2)
camera.wait_recording(5) <span class="comment"># recording for 5 seconds</span>
camera.stop_recording()
<span class="command">print</span>(<span class="text">"The video is done."</span>)                                     
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE; margin-bottom: 3px;"><code markup="tt">
<span class="comment"># Sending emails</span>

<span class="command">import</span> yagmail

<span class="function">with</span> <span class="command">open</span>(<span class="text">"/home/pi/.local/share/.email_password"</span>, <span class="text">"r"</span>) <span class="function">as</span> file:
    password <span class="sign">=</span> file.<span class="command">read</span>().<span class="command">strip</span>() <span class="comment"># this ensures no extra spaces</span>

yag <span class="sign">=</span> yagmail.SMTP(<span class="text">"cpucademy.sender@gmail.com"</span>, password)
yag.send(to <span class="sign">=</span> <span class="text">"youremail@gmail.com"</span>, subject <span class="sign">=</span> <span class="text">"Raspberry Pi Email"</span>, contents <span class="sign">=</span> <span class="text">"Hello World!"</span>, attachments <span class="sign">=</span> <span class="text">"/home/pi/file.txt"</span>)
<span class="command">print</span>(<span class="text">"Email sent"</span>)                                        
                                    </code></pre>

                                    <p>*To use this, create an email address, enable 2-step verification, and search for app passwords. Generate one for the Raspberry Pi and copy it. Create a hidden file with the name and the path, like in the example above, and paste the password inside it. Now, everything will work.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Creating a local server</span>

<span class="command">from</span> flask <span class="command">import</span> Flask
<span class="command">import</span> RPi.GPIO <span class="command">as</span> gpio

button_pin <span class="sign">=</span> 26
gpio.<span class="command">setmode</span>(gpio.BCM)
gpio.<span class="command">setup</span>(button_pin, gpio.IN)

<span class="comment"># 0.0.0.0:8500 - 0.0.0.0 is the local IP address and 8500 is the port (you can use a different port number).
# We can open this website in a browser of a device connected to the same network like this: [pi_public_IP_address]:[the_port_number].</span>

app <span class="sign">=</span> <span class="function">Flask</span>(<span class="function">__name__</span>) <span class="comment"># initializing</span>

<span class="command">@app.route</span>(<span class="text">"/"</span>) <span class="comment"># homepage route</span>
<span class="function">def</span> index():
    <span class="function">return</span> <span class="text">"Hello world!"</span>

<span class="command">@app.route</span>(<span class="text">"/push-button"</span>) <span class="comment"># button status route (a subpage)</span>
<span class="function">def</span> push_button(): <span class="comment"># the name of the function doesn't have to be the same as the route</span>
    <span class="function">if</span> gpio.<span class="command">input</span>(button_pin) <span class="sign">==</span> gpio.HIGH:
        <span class="function">return</span> <span class="text">"Button is pressed."</span>
    <span class="function">return</span> <span class="text">"Button is not pressed."</span>

<span class="function">try</span>:
    app.run(host <span class="sign">=</span> <span class="text">"0.0.0.0"</span>, port <span class="sign">=</span> 8500) <span class="comment"># running the server on port 8500</span>
<span class="function">finally</span>:
    gpio.<span class="command">cleanup</span>()                                        
                                    </code></pre>

                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment"># Turning the LEDs on and off based on the website subpage opened</span>

<span class="command">from</span> flask <span class="command">import</span> Flask
<span class="command">import</span> RPi.GPIO <span class="command">as</span> gpio

led_pins <span class="sign">=</span> [17, 22, 27]
gpio.<span class="command">setmode</span>(gpio.BCM)

<span class="function">for</span> x <span class="function">in</span> led_pins:
    gpio.<span class="command">setup</span>(x, gpio.OUT)
<span class="function">for</span> x <span class="function">in</span> led_pins:
    gpio.<span class="command">output</span>(x, gpio.LOW)

app <span class="sign">=</span> <span class="function">Flask</span>(<span class="function">__name__</span>)
<span class="command">@app.route</span>(<span class="text">"/"</span>)
<span class="function">def</span> index():
    <span class="function">return</span> <span class="text">"LEDs"</span>

<span class="command">@app.route</span>(<span class="text">"/led/&lt;int:led_pin&gt;/state/&lt;int:led_state&gt;"</span>) <span class="comment"># URL format for controlling LEDs</span>
<span class="function">def</span> trigger_led(led_pin, led_state):
    <span class="function">if</span> led_pin <span class="function">not in</span> led_pins:
        <span class="function">return</span> <span class="text">"Wrong GPIO number"</span>
    <span class="function">if</span> led_state <span class="sign">==</span> 1:
        gpio.<span class="command">output</span>(led_pin, gpio.HIGH)
    <span class="function">elif</span> led_state <span class="sign">==</span> 0:
        gpio.<span class="command">output</span>(led_pin, gpio.LOW)
    <span class="function">else</span>:
        <span class="function">return</span> <span class="text">"State must be 0 or 1"</span>
    <span class="function">return</span> <span class="text">f"{led_pin} LED is {'on' if led_state == 1 else 'off'}"</span>

app.run(host <span class="sign">=</span> <span class="text">"0.0.0.0"</span>) <span class="comment"># running the server</span>
gpio.<span class="command">cleanup</span>()                                        
                                    </code></pre>

                                    <p>We should always place the code in the <code>try</code> block and the <code>gpio.cleanup()</code> command in the main and the <code>except</code> block. This way, we will prevent not executing this command by killing the program.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; CPUcademy All Rights Reserved | <a href="license-and-sources.html" class="link">License &amp; Sources</a></span>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="configs/jquery/jquery.min.js"></script>
    <script src="configs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="configs/script.js"></script>
</body>
</html>