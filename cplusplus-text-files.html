<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="If you're looking for concise and on-topic programming tutorials or cheat sheets and notes with examples, then you are in the right place! You will find courses about Python, web development, databases, and many others. This website is a personal portfolio and was created by one person.">
    <meta name="keywords" content="Programming, Coding, Python, Web Development, C++, HTML Tutorial, CSS Tutorial, Bootstrap Tutorial, Python Tutorial, C++ Tutorial, HTML, CSS, Bootstrap, Software Development, Algorithms, Data Structures, Programming Tutorials, Coding Tips, Code Examples, Programming Resources, Learn Python, Programming Beginner To Expert, Coding Community, Online Coding Courses, MS Access, Databases, OOP, Object Oriented Programming, IT, Computer Science, Data Science, AI, Django, TensorFlow, Java, Java Tutorial, Android, Android Studio, Kotlin, Electronics, Binary">
    <meta name="author" content="Tymoteusz Kołodziejczyk">
    <link href="font/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="files/logo.png" rel="icon">
    <link href="files/logo.png" rel="apple-touch-icon">
    <link rel="stylesheet" href="css/fontello.css" type="text/css">
    <link rel="stylesheet" href="css/styles.css" type="text/css">
    <title>Text files</title>
</head>

<body id="page-top">
    <div id="wrapper">
        <ul class="navbar-nav sidebar sidebar-dark accordion" id="accordionSidebar" style="background-color: #157267;">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                    <img src="files/logo.png" alt="Logo" id="logo">
                <div class="sidebar-brand-text mx-3">CPUcademy</div>
            </a>
            
            <hr class="sidebar-divider my-0">
            <li class="nav-item active">
                <a class="nav-link" href="index.html">
                    <i class="icon-home"></i>
                    <span>Home</span></a>
            </li>
            <hr class="sidebar-divider" style="margin-bottom: 0px;">
    
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="true" aria-controls="collapseTwo">
                    <i class="icon-th-list"></i>
                    <span>Tutorials</span>
                </a>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="python.html">Python</a>
                        <a class="collapse-item" href="java.html">Java &amp; Kotlin (Android)</a>
                        <a class="collapse-item" href="cplusplus.html">C++</a>
                        <a class="collapse-item" href="web.html">Basic web stack</a>
                        <a class="collapse-item" href="databases.html">Databases</a>
                        <a class="collapse-item" href="electronics.html">Electronics</a>
                        <a class="collapse-item" href="it-and-computer-basics.html">IT &amp; computer basics</a>
                    </div>
                </div>
            </li>
            <hr class="sidebar-divider">
            <div class="sidebar-heading">About me</div>
            
            <li class="nav-item">
                <a class="nav-link" href="cv.html">
                    <i class="icon-adult"></i>
                    <span>CV</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="portfolio-projects.html">
                    <i class="icon-docs"></i>
                    <span>Portfolio projects</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="services.html">
                    <i class="icon-services"></i>
                    <span>My services</span></a>
            </li>
            <hr class="sidebar-divider">
        </ul>

        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars" style="color: #157267;"></i>
                </button>

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h5 class="m-0 font-weight-bold">Text files</h5>
                                </div>
                                <div class="card-body">
                                    <h3>Table of contents</h3>
            
                                    <ul type="disc">
                                        <li><a href="#basics" class="link" style="text-decoration: none;">Basics</a></li>
                                        <li><a href="#errors" class="link" style="text-decoration: none;">Errors</a></li>
                                        <li><a href="#seek-and-tell" class="link" style="text-decoration: none;">Seek and tell</a></li>
                                        <li><a href="#getline-get-and-ignore" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">getline()</code>, <code style="color: #f5d67b;">get()</code>, and <code style="color: #f5d67b;">ignore()</code></a></li>
                                        <li><a href="#comparing-two-files" class="link" style="text-decoration: none;">Comparing two files</a></li>
                                        <li><a href="#put" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">put()</code></a></li>
                                        <li><a href="#peek" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">peek()</code></a></li>
                                        <li><a href="#putback" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">putback()</code></a></li>
                                        <li><a href="#write" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">write()</code></a></li>
                                        <li><a href="#gcount" class="link" style="text-decoration: none;"><code style="color: #f5d67b;">gcount()</code></a></li>
                                    </ul>

                                    <h2><a id="basics">Basics</a></h2>
                                    
                                    <p>This section provides all the information you will ever use unless you want to get really advanced, so you don't have to read the whole article.</p>

                                    <p class="podpis">To perform operations on text files, we need to include the <code>&lt;fstream&gt;</code> library. Firstly, we have to create a variable of the <code>fstream</code> type and then use the <code>open()</code> command on it. Its first argument is the file's name, and the second is flags. We can add multiple flags using the <code>|</code> sign. They are modes in which the file can be opened, and they can be:</p>
                                    <ul type="disc">
                                        <li><code>ios::out</code> - output - writing to a file (if the file doesn’t exist, it creates a new one). If the file exists, it overwrites its content with new data.</li>
                                        <li><code>ios::in</code> - input - reading from a file.</li>
                                        <li><code>ios::trunc</code> - truncate - erasing the whole content.</li>
                                        <li><code>ios::app</code> - append - writing at the end of a file (without overwriting the content).</li>
                                        <li><code>ios::ate</code> - at the end - starting from the end of a file with the possibilities of reading and writing.</li>
                                        <li><code>ios::binary</code> - binary type (it will still be interpreted as a text, but we could, e.g., open an image in the form of zeros and ones).</li>
                                    </ul>

                                    <p>For all operations, we have to first specify, whether we want to write or read, and only then add flags like <code>ios::app</code> using <code>|</code>.</p>
                                    
                                    <p>In the example below, after we check if the file has been opened properly with the <code>is_open()</code> command, we write two lines of text in it and close it (it is necessary). Then, we read from it.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">#include &lt;iostream&gt;</span>
<span class="command-c">#include &lt;fstream&gt;</span>
<span class="function">using namespace</span> <span class="command-c">std</span><span class="sign">;</span>

<span class="function">int</span> main()
<span class="sign">{</span>
    <span class="command-c">fstream</span> file<span class="sign">;</span>
    
    file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">out</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">app</span>)<span class="sign">;</span>
    
    <span class="function">if</span>(file.<span class="command-c">is_open</span>())
    <span class="sign">{</span>
        file <span class="sign">&lt;&lt;</span> <span class="text">"Text\n"</span><span class="sign">;</span>
        file <span class="sign">&lt;&lt;</span> <span class="text">"Text2"</span><span class="sign">;</span>
        file.<span class="command-c">close</span>()<span class="sign">;</span>
    <span class="sign">}</span>
    
    file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span>)<span class="sign">;</span>
    <span class="function">string</span> text<span class="sign">;</span>
    
    <span class="function">if</span>(file.<span class="command-c">is_open</span>())
    <span class="sign">{</span>
        <span class="function">while</span>(<span class="command-c">getline</span>(file, text))
            <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> text <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>

        file.<span class="command-c">close</span>()<span class="sign">;</span>
    <span class="sign">}</span>
    
    <span class="function">return</span> 0<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <p>Instead of creating the <code>fstream</code> variable, we could make an <code>ofstream</code> or an <code>ifstream</code> variable. The former's default mode is <code>ios::out</code>, and the latter's - <code>ios::in</code> (we wouldn't have to write them).</p>
                                    
                                    <h2><a id="errors">Errors</a></h2>
                                    
                                    <p>To prevent errors while operating on text files, we can use these methods:</p>
                                    
                                    <ul type="disc">
                                        <li><code>bad()</code> - badbit - it returns <code>true</code> if there is an error, e.g., writing to a file while on read mode.</li>
                                        <li><code>good()</code> - goodbit - it returns <code>true</code> if everything is alright.</li>
                                        <li><code>fail()</code> - failbit - it returns <code>true</code> if we read, e.g., a string to an int variable (badbit doesn't occur when failbit does).</li>
                                        <li><code>eof()</code> - eofbit (end of file) - it returns <code>true</code> if a file opened with the read mode will reach the file's end.</li>
                                        <li><code>rdstate()</code> - ReadState - it shows in which of the states from above is our file (1 - badbit, 0 - goodbit, 4 - failbit, 2 - eofbit).</li>
                                        <li><code>clear()</code> - clearing the state.</li>
                                    </ul>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">fstream</span> file<span class="sign">;</span>

file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span>)<span class="sign">;</span>

<span class="function">if</span>(file.<span class="command-c">is_open</span>())
    <span class="sign">{</span>
    <span class="function">string</span> temp<span class="sign">;</span>
    file <span class="sign">&gt;&gt;</span> temp<span class="sign">;</span>
    <span class="function">do</span>
    <span class="sign">{</span>
        file <span class="sign">&gt;&gt;</span> temp<span class="sign">;</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    <span class="sign">}</span><span class="function">while</span>(<span class="sign">!</span>file.<span class="command-c">eof</span>())<span class="sign">;</span> <span class="comment">// while we haven't read the whole file</span>
    
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> file.<span class="command-c">rdstate</span>()<span class="sign">;</span>
    <span class="function">if</span>((file.<span class="command-c">rdstate</span>() <span class="sign">^</span> <span class="command-c">ifstream</span><span class="sign">::</span><span class="command-c">eofbit</span>) <span class="sign">==</span> 0) <span class="comment">// if(file.rdstate() == 0) would also work, but not in all cases</span>
        file.<span class="command-c">clear</span>()<span class="sign">;</span>
    
    <span class="function">if</span>(file.<span class="command-c">bad</span>())
    <span class="sign">{</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"Error"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    <span class="sign">}</span>
    file.<span class="command-c">close</span>()<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>    

                                    <h2><a id="seek-and-tell">Seek and tell</a></h2>
                                    
                                    <p>Here, we should use the <code>ios::binary</code> flag to avoid errors. When we want to read something specific from a file, we can use <code>seekg()</code> and <code>tellg()</code>. <code>seekg()</code> stands for "seek get", and it moves the <code>get</code> pointer to a desired location (this pointer is used for reading from the file). <code>tellg()</code> stand for "tell get", and it says where the <code>get</code> pointer is in a file. <code>seekg()</code> takes two arguments: how many bytes (one character is one byte) should it jump, and from where. It can start from the beginning of the file (<code>ios::beg</code>), from the end (<code>ios::end</code>), or from the moment when the reading of the file finished last time, which is the current moment (<code>ios::cur</code>). <code>ios::beg</code> is the default second argument, so we don't have to write it. <code>tellg()</code> doesn't take any arguments. Keep in mind that after we reach the end of the file, we have to set the pointer at the beginning if we want to use it again. These two commands won't be available with <code>ofstream</code>.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">fstream</span> file<span class="sign">;</span>

file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>

<span class="function">if</span>(file.<span class="command-c">is_open</span>())
<span class="sign">{</span>
    <span class="function">string</span> temp<span class="sign">;</span>
    
    <span class="command-c">streampos</span> sizeOfFile<span class="sign">;</span>
    file.<span class="command-c">seekg</span>(0, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">end</span>)<span class="sign">;</span>
    sizeOfFile <span class="sign">=</span> file.<span class="command-c">tellg</span>()<span class="sign">;</span>
    file.<span class="command-c">seekg</span>(0)<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"Size of the file is "</span> <span class="sign">&lt;&lt;</span> sizeOfFile <span class="sign">&lt;&lt;</span> <span class="text">" bytes"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    
    <span class="function">do</span>
    <span class="sign">{</span>
        file <span class="sign">&gt;&gt;</span> temp<span class="sign">;</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    <span class="sign">}</span><span class="function">while</span>(<span class="sign">!</span>file.<span class="command-c">eof</span>())<span class="sign">;</span>
    
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> file.<span class="command-c">rdstate</span>()<span class="sign">;</span>
    <span class="function">if</span>((file.<span class="command-c">rdstate</span>() <span class="sign">^</span> <span class="command-c">ifstream</span><span class="sign">::</span><span class="command-c">eofbit</span>) <span class="sign">==</span> 0)
        file.<span class="command-c">clear</span>()<span class="sign">;</span>
    
    <span class="function">if</span>(file.<span class="command-c">good</span>())
    <span class="sign">{</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"Everything is good"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> file.<span class="command-c">tellg</span>() <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
        file.<span class="command-c">seekg</span>(0)<span class="sign">;</span>
        file <span class="sign">&gt;&gt;</span> temp<span class="sign">;</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    <span class="sign">}</span>
    file.<span class="command-c">close</span>()<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <p>We can do the same thing but in the writing mode. For this, we use <code>seekp()</code> and <code>tellp()</code>. Everything is the same, except that we can use these methods while writing in a file. <code>seekp()</code> stands for "seek put", and <code>tellp()</code> for "tell put". <code>put</code> is a pointer used for writing inside of the file. <code>ios::beg</code> is a default second argument for <code>seekp()</code>. These two commands won't be available with <code>ifstream</code>.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">if</span>(file.<span class="command-c">is_open</span>())
<span class="sign">{</span>
    <span class="function">string</span> temp <span class="sign">=</span> <span class="text">"Text"</span><span class="sign">;</span>
    file <span class="sign">&lt;&lt;</span> temp<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> file.<span class="command-c">tellp</span>() <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    file<span class="command-c">.seekp</span>(2)<span class="sign">;</span>
    file <span class="sign">&lt;&lt;</span> <span class="text">"s"</span><span class="sign">;</span> <span class="comment">// swaping the third character in the file to "s"</span>
    
    file.<span class="command-c">close</span>()<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <h2><a id="getline-get-and-ignore"><code style="color: #f5d67b;">getline()</code>, <code style="color: #f5d67b;">get()</code>, and <code style="color: #f5d67b;">ignore()</code></a></h2>
                                    
                                    <p><code>getline()</code> will read from a file until it encounters a delimiter (by default - the enter sign) or exceeds a given range of characters. It also deletes the delimiter after it meets it, so while reading from the file the next time, it won't stop on the first character. <code>get()</code> works on the same principles, except it doesn't delete the delimiter. Both take three arguments: where to save the text, how many characters to read, and the delimiter (a character that, if encountered, stops the execution). With <code>file.get()</code>, we don't have to give any arguments, but then we must use the <code>ignore()</code> command after it. It takes two arguments: how many characters to ignore and a delimiter.</p>
                                    
                                    <p>Open the file in these modes: <code>ios::in | ios::binary</code>, and write the examples from below inside the <code>if(file.is_open())</code> conditional statement. These examples won't work when put together because of the pointer position. Remember to close the file. In the test <code>.txt</code> file, write these three lines:</p>
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
John Smith
Hannah Jones
Harry Evans
                                    </code></pre>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment">// Reading every line of the file</span>
<span class="function">char</span> temp[50] <span class="sign">= {</span>0<span class="sign">};</span>

<span class="function">while</span>(file.<span class="command-c">getline</span>(temp, 50))
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
            </code></pre>
            
            <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment">// Reading the first two lines of the file</span>
<span class="function">char</span> temp[50] <span class="sign">= {</span>0<span class="sign">};</span>

file.<span class="command-c">get</span>(temp, 50)<span class="sign">;</span>
<span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>

file.<span class="command-c">ignore</span>()<span class="sign">;</span>

file.<span class="command-c">get</span>(temp, 50)<span class="sign">;</span>
<span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
            </code></pre>
        
            <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="comment">// Reading the names and the first letters of the surnames</span>
<span class="function">char</span> last<span class="sign">;</span>
<span class="function">char</span> tempName[30]<span class="sign">;</span>
<span class="function">do</span>
<span class="sign">{</span>
    file.<span class="command-c">get</span>(tempName, 30, <span class="text">' '</span>)<span class="sign">;</span>
    file.<span class="command-c">ignore</span>(1, <span class="text">' '</span>)<span class="sign">;</span>
    last <span class="sign">=</span> file.<span class="command-c">get</span>()<span class="sign">;</span>
    file.<span class="command-c">ignore</span>(100, <span class="text">'\n'</span>)<span class="sign">;</span>
    
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> tempName <span class="sign">&lt;&lt;</span> <span class="text">" "</span> <span class="sign">&lt;&lt;</span> last <span class="sign">&lt;&lt;</span> <span class="text">"."</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
<span class="sign">}</span><span class="function">while</span>(<span class="sign">!</span>file.<span class="command-c">eof</span>())<span class="sign">;</span>
                                    </code></pre>
                                    
                                    <h2><a id="comparing-two-files">Comparing two files</a></h2>
                                    
                                    <p>Firstly, create a file and write something inside it. Then, make a second file and copy the content of the first one. If we leave it like that, the files will be identical. If we add one character, they will have different sizes, and if we change one character, they will be different. To compare them, we will use the <code>memcmp()</code> (memory comparison) method from the <code>"string.h"</code> module. As arguments, it will take the content of the first and the second files and the number of characters to compare. If this method returns 0, the files are the same. We will also use the <code>read()</code> method, which saves a chosen number of bytes from the file to a variable.</p>
                                    
                                    <p>In the example below, our <code>sizeOfFile()</code> function will check the file's size by setting the pointer on its end, reading at which byte it is, and returning to the beginning (the number of bytes at the end is the file's length). The <code>main()</code> function will open two files and compare them using our <code>areFilesEqual()</code> function. If it returns <code>true</code>, the files are identical. If the file is larger than one megabyte, it will be divided and checked one megabyte at a time (to save memory).</p>
        
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">#include &lt;iostream&gt;</span>
<span class="command-c">#include &lt;fstream&gt;</span>
<span class="command-c">#include "string.h"</span>
<span class="function">using namespace</span> <span class="command-c">std</span><span class="sign">;</span>

<span class="function">int</span> sizeOfFile(<span class="command-c">fstream</span> <span class="sign">*</span>file)
<span class="sign">{</span>
    file <span class="sign">-&gt;</span> <span class="command-c">seekg</span>(0, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">end</span>)<span class="sign">;</span>
    <span class="function">int</span> sizeOfFile <span class="sign">=</span> file <span class="sign">-&gt;</span> <span class="command-c">tellg</span>()<span class="sign">;</span>
    file <span class="sign">-&gt;</span> <span class="command-c">seekg</span>(0)<span class="sign">;</span>
    <span class="function">return</span> sizeOfFile<span class="sign">;</span>
<span class="sign">}</span>

<span class="function">bool</span> areFilesEqual(<span class="command-c">fstream</span> <span class="sign">*</span>x, <span class="command-c">fstream</span> <span class="sign">*</span>y)
<span class="sign">{</span>
    <span class="function">int</span> size<span class="sign">;</span>
    <span class="function">int</span> fileSize1 <span class="sign">=</span> sizeOfFile(x)<span class="sign">;</span>
    <span class="function">int</span> fileSize2 <span class="sign">=</span> sizeOfFile(y)<span class="sign">;</span>
    
    <span class="function">if</span>(fileSize1 <span class="sign">></span> 1024)
        size <span class="sign">=</span> 1024<span class="sign">;</span>
    <span class="function">else</span>
        size <span class="sign">=</span> fileSize1<span class="sign">;</span>
    
    <span class="function">if</span>(fileSize1 <span class="sign">==</span> fileSize2)
    <span class="sign">{</span>
        <span class="function">char</span> <span class="sign">*</span>file1Temp <span class="sign">=</span> <span class="function">new char</span>[size]<span class="sign">;</span>
        <span class="function">char</span> <span class="sign">*</span>file2Temp <span class="sign">=</span> <span class="function">new char</span>[size]<span class="sign">;</span>
        
        <span class="function">do</span>
        <span class="sign">{</span>
            x <span class="sign">-&gt;</span> <span class="command-c">read</span>(file1Temp, size)<span class="sign">;</span>
            y <span class="sign">-&gt;</span> <span class="command-c">read</span>(file2Temp, size)<span class="sign">;</span>
            
            <span class="function">if</span>(<span class="command-c">memcmp</span>(file1Temp, file2Temp, size) <span class="sign">!=</span> 0)
            <span class="sign">{</span>
                <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"The files are not the same"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
                <span class="function">delete</span>[] file1Temp<span class="sign">;</span>
                <span class="function">delete</span>[] file2Temp<span class="sign">;</span>
                <span class="function">return false</span><span class="sign">;</span>
            <span class="sign">}</span>
        <span class="sign">}</span><span class="function">while</span>(x <span class="sign">-&gt;</span> <span class="command-c">good</span>() <span class="sign">&amp;&amp;</span> y <span class="sign">-&gt;</span> <span class="command-c">good</span>())<span class="sign">;</span>
        
        <span class="function">delete</span>[] file1Temp<span class="sign">;</span>
        <span class="function">delete</span>[] file2Temp<span class="sign">;</span>
        <span class="function">return true</span><span class="sign">;</span>
    <span class="sign">}</span>
    <span class="function">else</span>
    <span class="sign">{</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"The files have different sizes"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
        <span class="function">return false</span>;</span>
    <span class="sign">}</span>
<span class="sign">}</span>

<span class="function">int</span> main()
<span class="sign">{</span>
    <span class="command-c">fstream</span> file1, file2<span class="sign">;</span>
    
    file1.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>
    file2.<span class="command-c">open</span>(<span class="text">"file2.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>
    
    <span class="function">if</span>(file1.<span class="command-c">is_open</span>() <span class="sign">&amp;&amp;</span> file2.<span class="command-c">is_open</span>())
    <span class="sign">{</span>    
        <span class="function">if</span>(areFilesEqual(<span class="sign">&amp;</span>file1, <span class="sign">&amp;</span>file2))
            <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"The files are identical"</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
        
        file1.<span class="command-c">close</span>()<span class="sign">;</span>
        file2.<span class="command-c">close</span>()<span class="sign">;</span>
    <span class="sign">}</span>
    
    <span class="function">return</span> 0<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <h2><a id="put"><code style="color: #f5d67b;">put()</code></a></h2>
                                    
                                    <p>The <code>put()</code> command puts something inside a stream, e.g., <code>cout.put('a');</code> puts <code>'a'</code> inside the output stream.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">string</span> text <span class="sign">=</span> <span class="text">"text"</span><span class="sign">;</span>
<span class="function">for</span>(<span class="function">int</span> i <span class="sign">=</span> 0<span class="sign">;</span> i <span class="sign">&lt;</span> text.<span class="command-c">length</span>()<span class="sign">;</span> i<span class="sign">++</span>)
    <span class="command-c">cout</span><span class="sign">.</span><span class="command-c">put</span>(text[i]).<span class="command-c">put</span>(<span class="text">' '</span>)<span class="sign">;</span> <span class="comment">// writing a space after every character</span>
    
<span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>

<span class="command-c">fstream</span> file<span class="sign">;</span>
file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">out</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>

<span class="function">if</span>(file.<span class="command-c">is_open</span>())
<span class="sign">{</span>
    <span class="comment">// writing in the file until a dot is encountered</span>
    <span class="function">char</span> character<span class="sign">;</span>
    <span class="function">do</span>
    <span class="sign">{</span>
        character <span class="sign">=</span> <span class="command-c">cin</span>.<span class="command-c">get</span>()<span class="sign">;</span>
        file.<span class="command-c">put</span>(character)<span class="sign">;</span>
    <span class="sign">}</span><span class="function">while</span>(character <span class="sign">!=</span> <span class="text">'.'</span>)<span class="sign">;</span>
    
    file.<span class="command-c">close</span>()<span class="sign">;</span>
<span class="sign">}</span>    
                                    </code></pre>
                                    
                                    <h2><a id="peek"><code style="color: #f5d67b;">peek()</code></a></h2>
                                    
                                    <p>The <code>peek()</code> command peeks at the first character. In the example below, based on the first character from the input stream, we determine if it is a string or a number (of course, it could be wrong, e.g., "5d" would be considered a number). It can be applied while reading from text files.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">char</span> c<span class="sign">;</span>
c <span class="sign">=</span> <span class="command-c">cin</span>.<span class="command-c">peek</span>()<span class="sign">;</span>

<span class="function">if</span>(c <span class="sign">&gt;</span> <span class="text">'0'</span> <span class="sign">&amp;&amp;</span> c <span class="sign">&lt;</span> <span class="text">'9'</span>)
<span class="sign">{</span>
    <span class="function">int</span> number<span class="sign">;</span>
    <span class="command-c">cin</span> <span class="sign">&gt;&gt;</span> number<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"You entered a number: "</span> <span class="sign">&lt;&lt;</span> number <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
<span class="sign">}</span>
<span class="function">else</span>
<span class="sign">{</span>
    <span class="function">string</span> text<span class="sign">;</span>
    <span class="command-c">cin</span> <span class="sign">&gt;&gt;</span> text<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"You entered a string: "</span> <span class="sign">&lt;&lt;</span> text <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <h2><a id="putback"><code style="color: #f5d67b;">putback()</code></a></h2>
                                    
                                    <p>The <code>get()</code> command takes a character out of the stream, so it isn't there anymore. To put it back, we use the <code>putback()</code> command. It can be applied while reading from text files.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="function">char</span> c<span class="sign">;</span>
c <span class="sign">=</span> <span class="command-c">cin</span>.<span class="command-c">get</span>()<span class="sign">;</span>
<span class="command-c">cin</span>.<span class="command-c">putback</span>(c)<span class="sign">;</span>

<span class="function">if</span>(c <span class="sign">&gt;</span> <span class="text">'0'</span> <span class="sign">&amp;&amp;</span> c <span class="sign">&lt;</span> <span class="text">'9'</span>)
<span class="sign">{</span>
    <span class="function">int</span> number<span class="sign">;</span>
    <span class="command-c">cin</span> <span class="sign">&gt;&gt;</span> number<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"You entered a number: "</span> <span class="sign">&lt;&lt;</span> number <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
<span class="sign">}</span>
<span class="function">else</span>
<span class="sign">{</span>
    <span class="function">string</span> text<span class="sign">;</span>
    <span class="command-c">cin</span> <span class="sign">&gt;&gt;</span> text<span class="sign">;</span>
    <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> <span class="text">"You entered a string: "</span> <span class="sign">&lt;&lt;</span> text <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                    
                                    <h2><a id="write"><code style="color: #f5d67b;">write()</code></a></h2>
                                    
                                    <p>The <code>write()</code> command writes to a file. It differs from the previously used <code>file &lt;&lt; "Text";</code> because it writes exactly the number of bytes we tell it to (if the given number of bytes is longer than the given string, it will write some memory addresses). In the example below, we have to subtract one from the size of our text because we don't want the <code>NULL</code> at the end to be written.</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">fstream</span> file<span class="sign">;</span>

file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">out</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>

<span class="function">if</span>(file.<span class="command-c">is_open</span>())
<span class="sign">{</span>
    <span class="function">char</span> text[] <span class="sign">=</span> <span class="text">"text"</span><span class="sign">;</span>
    file.<span class="command-c">write</span>(text, <span class="command-c">sizeof</span>(text)-1)<span class="sign">;</span>
    file.<span class="command-c">close</span>()<span class="sign">;</span>
<span class="sign">}</span>
                                    </code></pre>
                                
                                    <h2><a id="gcount"><code style="color: #f5d67b;">gcount()</code></a></h2>
                                    
                                    <p><code>gcount()</code> stands for "get character count," and it returns the number of characters taken out during the last extraction from the file (e.g., using <code>getline()</code>).</p>
                                    
                                    <pre class="wp-block-csstricks-code-block code-example" data-line="" style="color: #EFEEEE;"><code markup="tt">
<span class="command-c">fstream</span> file<span class="sign">;</span>

file.<span class="command-c">open</span>(<span class="text">"file.txt"</span>, <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">in</span> <span class="sign">|</span> <span class="command-c">ios</span><span class="sign">::</span><span class="command-c">binary</span>)<span class="sign">;</span>

<span class="function">if</span>(file.<span class="command-c">is_open</span>())
<span class="sign">{</span>
    <span class="function">char</span> temp[250]<span class="sign">;</span>
    <span class="function">do</span>
    <span class="sign">{</span>
        file.<span class="command-c">getline</span>(temp, 250)<span class="sign">;</span>
        <span class="command-c">cout</span> <span class="sign">&lt;&lt;</span> temp <span class="sign">&lt;&lt;</span> <span class="text">", the length: "</span> <span class="sign">&lt;&lt;</span> file.<span class="command-c">gcount</span>() <span class="sign">&lt;&lt;</span> <span class="command-c">endl</span><span class="sign">;</span>
    <span class="sign">}</span><span class="function">while</span>(<span class="sign">!</span>file.<span class="command-c">eof</span>())<span class="sign">;</span>
    
    file.<span class="command-c">close</span>();</span>
<span class="sign">}</span>    
                                    </code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; CPUcademy All Rights Reserved | <a href="license-and-sources.html" class="link">License &amp; Sources</a></span>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="configs/jquery/jquery.min.js"></script>
    <script src="configs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="configs/script.js"></script>
</body>
</html>